<!DOCTYPE html>
<html lang="cn-zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>在「VS Code」搭建「C&#43;&#43;」开发环境 - 艾逗笔</title>
    <meta property="og:title" content="在「VS Code」搭建「C&#43;&#43;」开发环境 - 艾逗笔">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="大家都知道「VS Code」是一个“真香”编辑器，用来做「C&#43;&#43;」开发也是一样的香！
[&amp;hellip;] 第一次接触 C&#43;&#43;，我们先不折腾编辑器的事情，随便用个能写代码的软件，写一个能输出“Hello World”的可执行程序再说。
在 Linux 机器上用 vi hello.cpp，先写几行代码：
[&amp;hellip;] #include &amp;lt;iostream&amp;gt;using &amp;hellip;">
      <meta property="og:description" content="大家都知道「VS Code」是一个“真香”编辑器，用来做「C&#43;&#43;」开发也是一样的香！
[&amp;hellip;] 第一次接触 C&#43;&#43;，我们先不折腾编辑器的事情，随便用个能写代码的软件，写一个能输出“Hello World”的可执行程序再说。
在 Linux 机器上用 vi hello.cpp，先写几行代码：
[&amp;hellip;] #include &amp;lt;iostream&amp;gt;using &amp;hellip;">
      
    

    
    
    <meta name="twitter:image" content="http://blogcdn.idoustudio.com/pic/20200725130519.png">
    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  
  <body class="posts">
    <header class="masthead">
      <h1><a href="/">艾逗笔</a></h1>

<p class="tagline">有逻辑的脑子万里挑一。</p>

      <nav class="menu">
  <input id="menu-check" type="checkbox" hidden/>
  <label id="menu-label" for="menu-check" class="unselectable" hidden>
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/">首页</a></li>
  
  <li><a href="/categories/">分类</a></li>
  
  <li><a href="/tags/">标签</a></li>
  
  <li><a href="/works/">作品</a></li>
  
  <li><a href="/about/">关于</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>在「VS Code」搭建「C&#43;&#43;」开发环境</h1>

<h3>
  2020-07-25</h3>
<hr>


      </header>


 <nav id="TableOfContents">
  <ul>
    <li><a href="#开始写-c-程序">开始写 C++ 程序</a></li>
    <li><a href="#vs-code-编译运行-c-代码">VS Code 编译/运行 C++ 代码</a></li>
    <li><a href="#vs-code-断点调试-c-代码">VS Code 断点调试 C++ 代码</a></li>
  </ul>
</nav> 
<p>大家都知道「VS Code」是一个“真香”编辑器，用来做「C++」开发也是一样的香！</p>
<h2 id="开始写-c-程序">开始写 C++ 程序</h2>
<p>第一次接触 C++，我们先不折腾编辑器的事情，随便用个能写代码的软件，写一个能输出“Hello World”的可执行程序再说。</p>
<p>在 <code>Linux</code> 机器上用 <code>vi hello.cpp</code>，先写几行代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
{
   cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Hello World&#34;</span>;
   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>安装 C++ 环境依赖</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum install gcc gcc-c++
</code></pre></div><p>确保 <code>gcc</code>、<code>g++</code> 用的同一个版本</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/usr/bin/gcc -v
/usr/bin/g++ -v
</code></pre></div><p>编译 C++ 程序</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">g++ hello.cpp -o hello
</code></pre></div><p>运行编译后的程序</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">./hello
</code></pre></div><p>如果看到如下输出，证明我们的 C++ 编码环境是 OK 的</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ ./hello
Hello World#
</code></pre></div><h2 id="vs-code-编译运行-c-代码">VS Code 编译/运行 C++ 代码</h2>
<p>下面我们开始对 VS Code 进行一系列配置，用来做日常的 C++ 开发工作。</p>
<ul>
<li>安装 C++ 扩展</li>
</ul>
<p>按下快捷键 <code>command+shift+X</code> 打开扩展安装面板，搜索并安装 <code>C/C++</code> 扩展。</p>
<ul>
<li>工程配置</li>
</ul>
<p>创建一个新的工作区，在工作区的 <code>.vscode</code> 目录下新建任务配置文件 <code>task.json</code>，</p>
<p>创建 <code>build</code>、<code>run</code> 两个任务：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;2.0.0&#34;</span>,
  <span style="color:#f92672">&#34;tasks&#34;</span>: [
    {
      <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;build&#34;</span>,
      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;shell&#34;</span>,
      <span style="color:#f92672">&#34;command&#34;</span>: <span style="color:#e6db74">&#34;g++&#34;</span>,
      <span style="color:#f92672">&#34;args&#34;</span>: [
        <span style="color:#e6db74">&#34;${file}&#34;</span>,
        <span style="color:#e6db74">&#34;-o&#34;</span>,
        <span style="color:#e6db74">&#34;${workspaceFolder}/bin/${fileBasenameNoExtension}&#34;</span>,
        <span style="color:#e6db74">&#34;-g&#34;</span>,
        <span style="color:#e6db74">&#34;-Wall&#34;</span>,
        <span style="color:#e6db74">&#34;-std=c++11&#34;</span>
      ],
      <span style="color:#f92672">&#34;group&#34;</span>: {
        <span style="color:#f92672">&#34;kind&#34;</span>: <span style="color:#e6db74">&#34;build&#34;</span>,
        <span style="color:#f92672">&#34;isDefault&#34;</span>: <span style="color:#66d9ef">true</span>
      },
      <span style="color:#f92672">&#34;presentation&#34;</span>: {
        <span style="color:#f92672">&#34;echo&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;reveal&#34;</span>: <span style="color:#e6db74">&#34;always&#34;</span>,
        <span style="color:#f92672">&#34;focus&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;panel&#34;</span>: <span style="color:#e6db74">&#34;shared&#34;</span>,
        <span style="color:#f92672">&#34;showReuseMessage&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;clear&#34;</span>: <span style="color:#66d9ef">false</span>
      },
      <span style="color:#f92672">&#34;problemMatcher&#34;</span>: <span style="color:#e6db74">&#34;$gcc&#34;</span>
    },
    {
      <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;run&#34;</span>,
      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;shell&#34;</span>,
      <span style="color:#f92672">&#34;dependsOn&#34;</span>: <span style="color:#e6db74">&#34;build&#34;</span>,
      <span style="color:#f92672">&#34;command&#34;</span>: <span style="color:#e6db74">&#34;${workspaceFolder}/bin/${fileBasenameNoExtension}&#34;</span>,
      <span style="color:#f92672">&#34;group&#34;</span>: {
        <span style="color:#f92672">&#34;kind&#34;</span>: <span style="color:#e6db74">&#34;test&#34;</span>,
        <span style="color:#f92672">&#34;isDefault&#34;</span>: <span style="color:#66d9ef">true</span>
      },
      <span style="color:#f92672">&#34;presentation&#34;</span>: {
        <span style="color:#f92672">&#34;echo&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;reveal&#34;</span>: <span style="color:#e6db74">&#34;always&#34;</span>,
        <span style="color:#f92672">&#34;focus&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;panel&#34;</span>: <span style="color:#e6db74">&#34;shared&#34;</span>,
        <span style="color:#f92672">&#34;showReuseMessage&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;clear&#34;</span>: <span style="color:#66d9ef">false</span>
      }
    }
  ]
}
</code></pre></div><p>按下快捷键 <code>command+shift+B</code> 可以执行 <code>build</code> 任务，对 C++ 源文件进行编译，在 <code>bin</code> 目录下生成同名的可执行文件。</p>
<p>我们需要为 <code>run</code> 任务绑定一个快捷键：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">[
  {
    <span style="color:#f92672">&#34;key&#34;</span>: <span style="color:#e6db74">&#34;cmd+t&#34;</span>,
    <span style="color:#f92672">&#34;command&#34;</span>: <span style="color:#e6db74">&#34;workbench.action.tasks.test&#34;</span>
  }
]
</code></pre></div><p>按下快捷键 <code>command+T</code> 可以执行 <code>run</code> 任务，运行 <code>bin</code> 目录下的可执行文件，输出 <code>Hello World</code> 消息。</p>
<h2 id="vs-code-断点调试-c-代码">VS Code 断点调试 C++ 代码</h2>
<p>在工作区的 <code>.vscode</code> 目录下新建 <code>launch.json</code>，填好配置：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;0.2.0&#34;</span>,
  <span style="color:#f92672">&#34;configurations&#34;</span>: [
    {
      <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Debug&#34;</span>,
      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;cppdbg&#34;</span>,
      <span style="color:#f92672">&#34;request&#34;</span>: <span style="color:#e6db74">&#34;launch&#34;</span>,
      <span style="color:#f92672">&#34;program&#34;</span>: <span style="color:#e6db74">&#34;${workspaceFolder}/bin/${fileBasenameNoExtension}&#34;</span>,
      <span style="color:#f92672">&#34;args&#34;</span>: [],
      <span style="color:#f92672">&#34;stopAtEntry&#34;</span>: <span style="color:#66d9ef">false</span>,
      <span style="color:#f92672">&#34;cwd&#34;</span>: <span style="color:#e6db74">&#34;${workspaceFolder}&#34;</span>,
      <span style="color:#f92672">&#34;environment&#34;</span>: [],
      <span style="color:#f92672">&#34;externalConsole&#34;</span>: <span style="color:#66d9ef">false</span>,
      <span style="color:#f92672">&#34;MIMode&#34;</span>: <span style="color:#e6db74">&#34;gdb&#34;</span>,
      <span style="color:#f92672">&#34;setupCommands&#34;</span>: [
        {
          <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Enable pretty-printing for gdb&#34;</span>,
          <span style="color:#f92672">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;-enable-pretty-printing&#34;</span>,
          <span style="color:#f92672">&#34;ignoreFailures&#34;</span>: <span style="color:#66d9ef">true</span>
        }
      ],
      <span style="color:#f92672">&#34;preLaunchTask&#34;</span>: <span style="color:#e6db74">&#34;build&#34;</span>
    }
  ]
}
</code></pre></div><p>打开调试面板，就可以对 C++ 代码进行断点调试了。</p>
<p><img src="http://blogcdn.idoustudio.com/pic/20200725130519.png" alt="debug"></p>
<blockquote>
<p>工欲善其事必先利其器。C++ 学习任重而道远，搭建好了 VS Code 开发环境，对于我们以后的学习和开发，肯定会带来非常大的便利。</p>
</blockquote>



<img src="http://blogcdn.idoustudio.com/idoubi-mp.jpeg" width="320" alt="">



<script src="https://utteranc.es/client.js"
        repo="idoubi/idoubi.github.io"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


  <footer>
  
  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">© <a href="https://idoubi.cc">艾逗笔</a> 2020 | <a href="https://github.com/idoubi">Github</a></div>
  
  </footer>
  </article>
  
  </body>
</html>

