<!DOCTYPE html>
<html lang="cn-zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>「goz」开源库，在Go中快速发起HTTP请求 - 艾逗笔</title>
    <meta property="og:title" content="「goz」开源库，在Go中快速发起HTTP请求 - 艾逗笔">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="goz 是一个用于在 Go 代码中快速发起 HTTP 请求的开源库， 部分实现参考了 PHP 流行请求库： guzzle
[&amp;hellip;] go get -u github.com/idoubi/goz 文档 API 文档地址: https://godoc.org/github.com/idoubi/goz
[&amp;hellip;] package main import ( &amp;hellip;">
      <meta property="og:description" content="goz 是一个用于在 Go 代码中快速发起 HTTP 请求的开源库， 部分实现参考了 PHP 流行请求库： guzzle
[&amp;hellip;] go get -u github.com/idoubi/goz 文档 API 文档地址: https://godoc.org/github.com/idoubi/goz
[&amp;hellip;] package main import ( &amp;hellip;">
      
    

    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  
  <body class="posts">
    <header class="masthead">
      <h1><a href="/">艾逗笔</a></h1>

<p class="tagline">有逻辑的脑子万里挑一。</p>

      <nav class="menu">
  <input id="menu-check" type="checkbox" hidden/>
  <label id="menu-label" for="menu-check" class="unselectable" hidden>
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/">首页</a></li>
  
  <li><a href="/categories/">分类</a></li>
  
  <li><a href="/tags/">标签</a></li>
  
  <li><a href="/works/">作品</a></li>
  
  <li><a href="/about/">关于</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>「goz」开源库，在Go中快速发起HTTP请求</h1>

<h3>
  2020-02-15</h3>
<hr>


      </header>



<blockquote>
<p><a href="https://github.com/idoubi/goz">goz</a> 是一个用于在 Go 代码中快速发起 HTTP 请求的开源库，
部分实现参考了 PHP 流行请求库： <a href="https://github.com/guzzle/guzzle">guzzle</a></p>
</blockquote>
<h2 id="安装">安装</h2>
<pre><code>go get -u github.com/idoubi/goz
</code></pre><h2 id="文档">文档</h2>
<p>API 文档地址:
<a href="https://godoc.org/github.com/idoubi/goz">https://godoc.org/github.com/idoubi/goz</a></p>
<h2 id="基本使用">基本使用</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;github.com/idoubi/goz&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()

	<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/get&#34;</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
	}

	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">resp</span>)
	<span style="color:#75715e">// Output: *goz.Response
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 id="查询参数">查询参数</h2>
<ul>
<li>map 形式</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()

<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/get-with-query&#34;</span>, <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">Options</span>{
    <span style="color:#a6e22e">Query</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
        <span style="color:#e6db74">&#34;key1&#34;</span>: <span style="color:#e6db74">&#34;value1&#34;</span>,
        <span style="color:#e6db74">&#34;key2&#34;</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;value21&#34;</span>, <span style="color:#e6db74">&#34;value22&#34;</span>},
        <span style="color:#e6db74">&#34;key3&#34;</span>: <span style="color:#e6db74">&#34;333&#34;</span>,
    },
})
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>, <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetRequest</span>().<span style="color:#a6e22e">URL</span>.<span style="color:#a6e22e">RawQuery</span>)
<span style="color:#75715e">// Output: key1=value1&amp;key2=value21&amp;key2=value22&amp;key3=333
</span></code></pre></div><ul>
<li>字符串形式</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()

<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/get-with-query?key0=value0&#34;</span>, <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">Options</span>{
    <span style="color:#a6e22e">Query</span>: <span style="color:#e6db74">&#34;key1=value1&amp;key2=value21&amp;key2=value22&amp;key3=333&#34;</span>,
})
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>, <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetRequest</span>().<span style="color:#a6e22e">URL</span>.<span style="color:#a6e22e">RawQuery</span>)
<span style="color:#75715e">// Output: key1=value1&amp;key2=value21&amp;key2=value22&amp;key3=333
</span></code></pre></div><h2 id="提交数据">提交数据</h2>
<ul>
<li>form 表单</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()

<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Post</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/post-with-form-params&#34;</span>, <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">Options</span>{
    <span style="color:#a6e22e">Headers</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
        <span style="color:#e6db74">&#34;Content-Type&#34;</span>: <span style="color:#e6db74">&#34;application/x-www-form-urlencoded&#34;</span>,
    },
    <span style="color:#a6e22e">FormParams</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
        <span style="color:#e6db74">&#34;key1&#34;</span>: <span style="color:#e6db74">&#34;value1&#34;</span>,
        <span style="color:#e6db74">&#34;key2&#34;</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;value21&#34;</span>, <span style="color:#e6db74">&#34;value22&#34;</span>},
        <span style="color:#e6db74">&#34;key3&#34;</span>: <span style="color:#e6db74">&#34;333&#34;</span>,
    },
})
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetBody</span>()
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">body</span>)
<span style="color:#75715e">// Output: form params:{&#34;key1&#34;:[&#34;value1&#34;],&#34;key2&#34;:[&#34;value21&#34;,&#34;value22&#34;],&#34;key3&#34;:[&#34;333&#34;]}
</span></code></pre></div><ul>
<li>json 数据</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()

<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Post</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/post-with-json&#34;</span>, <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">Options</span>{
    <span style="color:#a6e22e">Headers</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
        <span style="color:#e6db74">&#34;Content-Type&#34;</span>: <span style="color:#e6db74">&#34;application/json&#34;</span>,
    },
    <span style="color:#a6e22e">JSON</span>: <span style="color:#66d9ef">struct</span> {
        <span style="color:#a6e22e">Key1</span> <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`json:&#34;key1&#34;`</span>
        <span style="color:#a6e22e">Key2</span> []<span style="color:#66d9ef">string</span> <span style="color:#e6db74">`json:&#34;key2&#34;`</span>
        <span style="color:#a6e22e">Key3</span> <span style="color:#66d9ef">int</span>      <span style="color:#e6db74">`json:&#34;key3&#34;`</span>
    }{<span style="color:#e6db74">&#34;value1&#34;</span>, []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;value21&#34;</span>, <span style="color:#e6db74">&#34;value22&#34;</span>}, <span style="color:#ae81ff">333</span>},
})
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetBody</span>()
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">body</span>)
<span style="color:#75715e">// Output: json:{&#34;key1&#34;:&#34;value1&#34;,&#34;key2&#34;:[&#34;value21&#34;,&#34;value22&#34;],&#34;key3&#34;:333}
</span></code></pre></div><h2 id="请求头">请求头</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()

<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Post</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/post-with-headers&#34;</span>, <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">Options</span>{
    <span style="color:#a6e22e">Headers</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
        <span style="color:#e6db74">&#34;User-Agent&#34;</span>: <span style="color:#e6db74">&#34;testing/1.0&#34;</span>,
        <span style="color:#e6db74">&#34;Accept&#34;</span>:     <span style="color:#e6db74">&#34;application/json&#34;</span>,
        <span style="color:#e6db74">&#34;X-Foo&#34;</span>:      []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;Bar&#34;</span>, <span style="color:#e6db74">&#34;Baz&#34;</span>},
    },
})
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">headers</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetRequest</span>().<span style="color:#a6e22e">Header</span>[<span style="color:#e6db74">&#34;X-Foo&#34;</span>]
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">headers</span>)
<span style="color:#75715e">// Output: [Bar Baz]
</span></code></pre></div><h2 id="响应">响应</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()
<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/get&#34;</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetBody</span>()
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">body</span>)
<span style="color:#75715e">// Output: goz.ResponseBody
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">part</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">Read</span>(<span style="color:#ae81ff">30</span>)
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">part</span>)
<span style="color:#75715e">// Output: []uint8
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">contents</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">GetContents</span>()
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">contents</span>)
<span style="color:#75715e">// Output: string
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetStatusCode</span>())
<span style="color:#75715e">// Output: 200
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetReasonPhrase</span>())
<span style="color:#75715e">// Output: OK
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">headers</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetHeaders</span>()
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">headers</span>)
<span style="color:#75715e">// Output: map[string][]string
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">flag</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">HasHeader</span>(<span style="color:#e6db74">&#34;Content-Type&#34;</span>)
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">flag</span>)
<span style="color:#75715e">// Output: bool
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">header</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetHeader</span>(<span style="color:#e6db74">&#34;content-type&#34;</span>)
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">header</span>)
<span style="color:#75715e">// Output: []string
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">headerLine</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetHeaderLine</span>(<span style="color:#e6db74">&#34;content-type&#34;</span>)
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%T&#34;</span>, <span style="color:#a6e22e">headerLine</span>)
<span style="color:#75715e">// Output: string
</span></code></pre></div><h2 id="代理">代理</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>()

<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;https://www.fbisb.com/ip.php&#34;</span>, <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">Options</span>{
    <span style="color:#a6e22e">Timeout</span>: <span style="color:#ae81ff">5.0</span>,
    <span style="color:#a6e22e">Proxy</span>:   <span style="color:#e6db74">&#34;http://127.0.0.1:1087&#34;</span>,
})
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">GetStatusCode</span>())
<span style="color:#75715e">// Output: 200
</span></code></pre></div><h2 id="超时">超时</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">cli</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">NewClient</span>(<span style="color:#a6e22e">goz</span>.<span style="color:#a6e22e">Options</span>{
    <span style="color:#a6e22e">Timeout</span>: <span style="color:#ae81ff">0.9</span>,
})
<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cli</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;http://127.0.0.1:8091/get-timeout&#34;</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">IsTimeout</span>() {
        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;timeout&#34;</span>)
        <span style="color:#75715e">// Output: timeout
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span>
    }
}

<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;not timeout&#34;</span>)
</code></pre></div><h2 id="项目信息">项目信息</h2>
<ul>
<li>
<p>开源协议：<a href="https://opensource.org/licenses/MIT">MIT</a></p>
</li>
<li>
<p>Copyright (c) 2017-present, <a href="http://idoubi.cc">idoubi</a></p>
</li>
<li>
<p>项目主页：https://github.com/idoubi/goz</p>
</li>
<li>
<p>作者博客：https://idoubi.cc</p>
</li>
</ul>



<img src="http://blogcdn.idoustudio.com/idoubi-mp.jpeg" width="320" alt="">



<script src="https://utteranc.es/client.js"
        repo="idoubi/idoubi.github.io"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


  <footer>
  
  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">© <a href="https://idoubi.cc">艾逗笔</a> 2020 | <a href="https://github.com/idoubi">Github</a></div>
  
  </footer>
  </article>
  
  </body>
</html>

